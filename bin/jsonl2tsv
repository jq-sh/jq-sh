#!/usr/bin/env jq-sh

opts --null-input --unbuffered --raw-output

arg_array   cols                 ${cols:-$*}
arg         missing_key          ${missing_key:-Â¿}


__JQ__


def row(cols):
  [foreach cols[] as $col (.; .; getpath($col / ".") // $missing_key | tostring)];

(inputs | row($cols)) | @tsv
