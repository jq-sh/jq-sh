#!/usr/bin/env jq-sh

opts --null-input --raw-output

__JQ__


def dig_keys:
  . as $obj |
  reduce (keys[]) as $k ([];
    . + (
      if ($obj[$k] | type == "object") then
        $obj[$k] | dig_keys | map("\($k).\(.)")
      else
        [$k]
      end
    )
  )
;


input |
if type == "array" then .[0] else . end |
dig_keys |
join(" ")
