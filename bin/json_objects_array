#!/usr/bin/env jq-sh

# opts --compact-output --raw-output

arg       resource     $resource
arg       resources    ${resources:-${resource}s}


__JQ__


def json_objects_array:
  if type == "array" then
    .
  else if has($resources) then
    .[$resources]
  else if has($resource) then
    [.[$resource]]
  else
    [., inputs]
  end end end // {}
;


json_objects_array
